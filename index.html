<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="buttons">
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>
    </div>
    <div id="notifs"></div>
    <div id="winNotif"></div>

    <script>
        alert("Welcome to Rock Paper Scissors!");
        let roundsPlayed = 0;
        let winNotif = document.querySelector("#winNotif");
        let cwins = 0;
        let pwins = 0;

        const buttons = document.querySelector("#buttons");
        buttons.addEventListener('click', (event) => {
            if(roundsPlayed === 0)
            {
                winNotif.textContent = '';
                pwins = 0;
                cwins = 0;
            }
            let target = event.target;
            playround(target.id.toString());
        });

        function computerChoice()
        {
            let num = Math.floor(Math.random() * 3) + 1
            if(num === 1)
            {
                return "rock";
            }
            else if(num === 2)
            {
                return "scissors";
            }
            else if(num === 3)
            {
                return "paper";
            }
        }

        function playround(playerChoice)
        {
            let notifs = document.querySelector("#notifs");
            let cchoice = computerChoice();
            roundsPlayed++;

            if(playerChoice === "rock" && cchoice === "rock" || playerChoice === "paper" && cchoice === "paper" || playerChoice === "scissors" && cchoice === "scissors")
            {
                notifs.textContent = ("Computer choose " + cchoice + " it's a tie!");
            }
            if(playerChoice === "rock" && cchoice === "scissors" || playerChoice === "paper" && cchoice === "rock" || playerChoice === "scissors" && cchoice === "paper")
            {
                notifs.textContent = ("Computer choose " + cchoice + " you win!!");
                pwins++;
            }
            if(playerChoice === "rock" && cchoice === "paper" || playerChoice === "paper" && cchoice === "scissors" || playerChoice === "scissors" && cchoice === "rock")
            {
                notifs.textContent = ("Computer choose " + cchoice + " you lose :(");
                cwins++;
            }

            if(roundsPlayed === 5)
            {
                if(pwins > cwins)
                {
                    winNotif.textContent = ("You won the game with " + pwins + " points! Choose to play again");
                }
                else if(cwins > pwins)
                {
                    winNotif.textContent = ("Computer won with " + cwins + " points. Choose to play again");
                }
                else
                {
                    winNotif.textContent = ("No one wins. Choose to play again");
                }
                roundsPlayed = 0;
            }
        }
    </script>
</body>
</html>